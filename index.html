<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TASTY TRIVIA – Delicious Offline Trivia Events</title>
  <link rel="icon" href="https://emoji.gg/assets/emoji/7699-pepperoni-pizza.png" />
  <script id="luma-checkout" src="https://embed.lu.ma/checkout-button.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Oswald:ital,wght@0,400;0,500;0,600;1,400&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    .ticker-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: linear-gradient(90deg, #db4118, #1E2A5A, #6B46C1);
      color: white;
      height: 40px;
      overflow: hidden;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(219, 65, 24, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .ticker-content {
      display: flex;
      animation: tickerScroll 25s linear infinite;
      white-space: nowrap;
      line-height: 40px;
      font-family: 'Oswald', sans-serif;
      font-weight: 500;
      font-size: 0.95rem;
      letter-spacing: 0.5px;
    }
    
    .ticker-content:hover {
      animation-play-state: paused;
    }
    
    .ticker-text {
      padding-right: 80px;
    }
    
    @keyframes tickerScroll {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    
    @media (max-width: 768px) {
      .ticker-container {
        height: 35px;
      }
      .ticker-content {
        line-height: 35px;
        font-size: 0.85rem;
        animation-duration: 20s;
      }
      
      .register-buttons {
        flex-direction: column;
        gap: 1rem;
      }
      
      .early-bird-banner {
        font-size: 0.9rem;
        padding: 0.7rem 1.2rem;
        margin: 0 1rem 1.5rem 1rem;
        max-width: calc(100% - 2rem);
      }
      
      .register-button {
        padding: 0.8rem;
        width: 140px;
        height: 140px;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      
      .button-content {
        margin-right: 0;
        margin-bottom: 0.3rem;
        min-height: auto;
        justify-content: center;
      }
      
      .button-main {
        font-size: 0.85rem;
        margin-bottom: 0.1rem;
        line-height: 1.1;
        letter-spacing: 0.2px;
        font-weight: 700;
      }
      
      .button-price {
        font-size: 0.9rem;
        font-weight: 700;
        margin-bottom: 0.1rem;
        letter-spacing: 0.3px;
      }
      
      .button-details {
        font-size: 0.65rem;
        line-height: 1.1;
        opacity: 0.95;
      }
      
      .share-icon {
        padding: 4px;
        min-width: 28px;
        min-height: 28px;
        flex-shrink: 0;
        bottom: 3px;
        right: 3px;
      }
      
      .share-icon img {
        width: 14px;
        height: 14px;
      }
      
      .whatsapp-section {
        margin: 1.5rem 1rem 0 1rem;
        max-width: calc(100% - 2rem);
      }
      
      .whatsapp-benefits {
        padding: 0.6rem;
      }
      
      .whatsapp-benefits h3 {
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
      }
      
      .benefits-grid {
        gap: 0.4rem;
      }
      
      .benefit-item {
        padding: 0.35rem 0.5rem;
        font-size: 0.75rem;
      }
      
      .whatsapp-button {
        font-size: 1rem;
        padding: 0.8rem 1.2rem;
        width: 100%;
      }
      
      .whatsapp-button img {
        width: 20px;
        height: 20px;
      }
      
      .upcoming-cities {
        margin: 1.5rem 1rem;
        padding: 0.8rem;
        max-width: calc(100% - 2rem);
      }
      
      .upcoming-title {
        font-size: 1.1rem;
      }
      
      .cities-list {
        font-size: 0.9rem;
      }
      
      .notify-text {
        font-size: 0.8rem;
      }
      
      .contact-title {
        font-size: 0.9rem;
      }
      
      .contact-email a {
        font-size: 0.8rem;
      }
      
      .social-handles {
        font-size: 0.75rem;
        flex-direction: column;
        gap: 0.3rem;
      }
      
      .social-separator {
        display: none;
      }
    }
    html, body {
      font-family: 'Oswald', 'Bebas Neue', 'Arial Black', sans-serif;
      background-color: #F5DEB3; /* Butterscotch background */
      color: #000000;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
      padding-top: 60px; /* Account for fixed ticker */
    }
    
    @media (max-width: 768px) {
      html, body {
        padding-top: 55px; /* Adjust for mobile ticker height */
      }
    }
    .header-box {
      text-align: center;
      background-color: #F5DEB3; /* Butterscotch */
      padding: 1rem 1.5rem;
      border-radius: 10px;
      box-shadow: 0 0 12px rgba(219, 65, 24, 0.6);
      margin-bottom: 1.5rem;
      border: 2px solid #db4118; /* Syracuse Orange */
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
    }
    
    .header-logo {
      width: 70px;
      height: 70px;
      object-fit: contain;
      flex-shrink: 0;
    }
    
    .header-text {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    
    .header-box h1 {
      font-family: 'Bebas Neue', 'Oswald', sans-serif;
      font-size: 3.2rem;
      font-weight: 400;
      color: #db4118; /* Syracuse Orange - brand header color */
      margin-bottom: 0.5rem;
      letter-spacing: 2px;
      margin: 0;
    }
    .header-box p {
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 1.2rem;
      color: #000000; /* Brand body color */
      font-weight: 400;
      margin: 0;
      margin-top: 0.3rem;
    }
    
    @media (max-width: 768px) {
      .header-box {
        flex-direction: column;
        gap: 1rem;
        padding: 1.2rem 1rem;
      }
      
      .header-logo {
        width: 50px;
        height: 50px;
      }
      
      .header-box h1 {
        font-size: 2.8rem;
      }
      
      .header-box p {
        font-size: 1.1rem;
      }
    }
    .subtagline {
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 1.1rem;
      color: #000000; /* Brand body color */
      text-align: center;
      max-width: 600px;
      margin-bottom: 1.5rem;
      font-weight: 400;
    }
    
    .early-bird-banner {
      background: linear-gradient(45deg, #db4118, #e55a5a);
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      font-family: 'Oswald', sans-serif;
      font-weight: 600;
      font-size: 1rem;
      text-align: center;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 15px rgba(219, 65, 24, 0.3);
      border: 2px solid rgba(255, 255, 255, 0.2);
      max-width: 400px;
      animation: pulse 2s ease-in-out infinite alternate;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      100% { transform: scale(1.02); }
    }
    .register-info {
      border: 1px solid #db4118; /* Syracuse Orange */
      padding: 0.6rem 1rem;
      border-radius: 8px;
      background-color: #F5DEB3; /* Butterscotch */
      margin-bottom: 1.5rem;
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 1rem;
      color: #000000; /* Brand body color */
      text-align: center;
      line-height: 1.4;
    }
    .news-link {
      border: 2px solid #db4118; /* Syracuse Orange */
      border-radius: 8px;
      background-color: #F5DEB3; /* Butterscotch */
      padding: 0.8rem 1rem;
      box-shadow: 0 0 10px rgba(219, 65, 24, 0.5);
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .news-link a {
      text-decoration: none;
      color: #db4118; /* Syracuse Orange */
      font-family: 'Oswald', sans-serif;
      font-weight: 600;
      font-size: 1rem;
    }
    .register-buttons {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }
    .register-button {
      background: linear-gradient(135deg, #1E2A5A 0%, #2D3B6B 100%);
      color: white;
      border: none;
      padding: 1rem;
      font-family: 'Oswald', sans-serif;
      border-radius: 50%;
      cursor: pointer;
      text-decoration: none;
      width: 160px;
      height: 160px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: all 0.3s ease;
      position: relative;
      box-shadow: 0 4px 15px rgba(30, 42, 90, 0.3);
      border: 2px solid transparent;
    }
    .register-button:hover {
      background: linear-gradient(135deg, #6B46C1 0%, #8B5CF6 100%);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(107, 70, 193, 0.4);
      border-color: rgba(255, 255, 255, 0.2);
    }
    
    .button-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      margin-bottom: 0.5rem;
    }
    
    .button-main {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.1rem;
      letter-spacing: 0.3px;
      line-height: 1.1;
    }
    
    .button-price {
      font-size: 1.1rem;
      font-weight: 700;
      color: #FFD700;
      margin-bottom: 0.1rem;
      letter-spacing: 0.5px;
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }
    
    .city-highlight {
      color: #FFD700;
      font-weight: 700;
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }
    
    .button-details {
      font-size: 0.7rem;
      font-weight: 400;
      opacity: 0.9;
      font-style: italic;
      line-height: 1.2;
    }
    .register-button.loading {
      opacity: 0.7;
      pointer-events: none;
    }
    .register-button.loading::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 24px;
      height: 24px;
      border: 3px solid transparent;
      border-top: 3px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      z-index: 10;
    }
    .register-button.loading .button-content,
    .register-button.loading .share-icon {
      opacity: 0.3;
    }
    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }
    .highlight {
      box-shadow: 0 0 15px 4px rgba(219, 65, 24, 0.8); /* Syracuse Orange glow */
    }
    .share-icon {
      position: absolute;
      bottom: 5px;
      right: 5px;
      cursor: pointer;
      padding: 6px;
      min-width: 32px;
      min-height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background-color 0.3s ease;
      background-color: #000000;
    }
    .share-icon:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    .share-icon img {
      width: 16px;
      height: 16px;
    }
    .carousel-container {
      position: relative;
      width: 90%;
      max-width: 500px;
      overflow: hidden;
      margin: 1rem 0;
    }
    .carousel {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }
    .carousel img {
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      flex-shrink: 0;
    }
    .nav-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(30, 42, 90, 0.8); /* Space Cadet with transparency */
      color: white;
      border: none;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      z-index: 1;
      transition: background-color 0.3s ease;
    }
    .nav-button:hover {
      background-color: rgba(219, 65, 24, 0.9); /* Syracuse Orange on hover */
    }
    .prev { left: 10px; }
    .next { right: 10px; }
    .upcoming-cities {
      font-family: 'Oswald', sans-serif;
      text-align: center;
      margin: 1.5rem 0;
      padding: 1rem;
      background: linear-gradient(135deg, rgba(219, 65, 24, 0.05), rgba(30, 42, 90, 0.05));
      border-radius: 12px;
      border: 1px solid rgba(219, 65, 24, 0.2);
      max-width: 500px;
    }
    
    .upcoming-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #db4118;
      margin-bottom: 0.5rem;
      letter-spacing: 0.5px;
    }
    
    .cities-list {
      font-size: 1rem;
      font-weight: 500;
      color: #1E2A5A;
      margin-bottom: 0.5rem;
      letter-spacing: 0.3px;
    }
    
    .notify-text {
      font-size: 0.9rem;
      font-style: italic;
      color: #666;
      font-weight: 400;
    }
    .whatsapp-section {
      margin-top: 1.5rem;
      text-align: center;
      max-width: 450px;
      width: 100%;
    }
    
    .whatsapp-benefits {
      background: linear-gradient(135deg, rgba(219, 65, 24, 0.05), rgba(30, 42, 90, 0.05));
      border: 1px solid rgba(219, 65, 24, 0.2);
      border-radius: 8px;
      padding: 0.8rem;
      margin-bottom: 0.8rem;
    }
    
    .whatsapp-benefits h3 {
      font-family: 'Oswald', sans-serif;
      font-size: 1rem;
      color: #db4118;
      margin-bottom: 0.6rem;
      letter-spacing: 0.5px;
      font-weight: 600;
    }
    
    .benefits-grid {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 0;
    }
    
    .benefit-item {
      background: white;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
      font-family: 'Oswald', sans-serif;
      font-weight: 500;
      font-size: 0.8rem;
      color: #1E2A5A;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
      border: 1px solid rgba(219, 65, 24, 0.15);
      white-space: nowrap;
    }
    
    .whatsapp-button {
      background: linear-gradient(135deg, #25D366, #128C7E);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      font-family: 'Oswald', sans-serif;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
      min-height: 56px;
      width: 100%;
      max-width: 400px;
    }
    .whatsapp-button:hover {
      background: linear-gradient(135deg, #128C7E, #0D7377);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
    }
    .whatsapp-button img {
      width: 22px;
      height: 22px;
      flex-shrink: 0;
    }
    .footer {
      margin-top: 2rem;
      text-align: center;
      max-width: 500px;
      width: 100%;
    }
    
    .footer-content {
      background: linear-gradient(135deg, rgba(219, 65, 24, 0.05), rgba(30, 42, 90, 0.05));
      border: 1px solid rgba(219, 65, 24, 0.2);
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    
    .creators-section {
      margin-bottom: 1rem;
    }
    
    .creators-title {
      font-family: 'Oswald', sans-serif;
      font-size: 1rem;
      color: #db4118;
      font-weight: 600;
      margin-bottom: 0.5rem;
      letter-spacing: 0.5px;
    }
    
    .creators-names {
      font-family: 'Bebas Neue', 'Oswald', sans-serif;
      font-size: 1.8rem;
      color: #1E2A5A;
      font-weight: 400;
      margin-bottom: 0.3rem;
      letter-spacing: 2px;
    }
    
    .creators-names a {
      color: #1E2A5A;
      text-decoration: none;
      transition: all 0.3s ease;
      border-bottom: 2px solid transparent;
    }
    
    .creators-names a:hover {
      color: #db4118;
      border-bottom-color: #db4118;
      transform: translateY(-1px);
    }
    
    .creators-subtitle {
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 0.9rem;
      color: #666;
      font-weight: 400;
    }
    
    .community-section {
      border-top: 1px solid rgba(219, 65, 24, 0.2);
      padding-top: 1rem;
      margin-bottom: 1rem;
    }
    
    .community-text {
      font-family: 'Oswald', sans-serif;
      font-size: 0.9rem;
      color: #1E2A5A;
      font-weight: 500;
      font-style: italic;
    }
    
    .contact-section {
      border-top: 1px solid rgba(219, 65, 24, 0.2);
      padding-top: 1rem;
    }
    
    .contact-title {
      font-family: 'Oswald', sans-serif;
      font-size: 1rem;
      color: #db4118;
      font-weight: 600;
      margin-bottom: 0.5rem;
      letter-spacing: 0.5px;
    }
    
    .contact-email {
      margin-bottom: 0.5rem;
    }
    
    .contact-email a {
      font-family: 'Oswald', sans-serif;
      font-size: 0.9rem;
      color: #1E2A5A;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }
    
    .contact-email a:hover {
      color: #db4118;
    }
    
    .social-handles {
      font-family: 'Oswald', sans-serif;
      font-size: 0.85rem;
      color: #666;
      font-weight: 400;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    
    .social-handle {
      white-space: nowrap;
    }
    
    .social-separator {
      color: #999;
    }
  </style>
</head>
<body>
  <div class="ticker-container">
    <div class="ticker-content">
      <span class="ticker-text">🎉 5+ Cities • 300+ Happy Participants • 100% Fun Guaranteed • Join the Community! 🧠</span>
      <span class="ticker-text">🎉 5+ Cities • 300+ Happy Participants • 100% Fun Guaranteed • Join the Community! 🧠</span>
      <span class="ticker-text">🎉 5+ Cities • 300+ Happy Participants • 100% Fun Guaranteed • Join the Community! 🧠</span>
    </div>
  </div>

  <div class="header-box">
    <img src="https://i.ibb.co/1fwSfgcK/8-bit-purple-logo-2x-removebg-preview.png" 
         alt="Tasty Trivia 8-bit logo" 
         class="header-logo"
         onerror="handleLogoError(this)" />
    <div class="header-text">
      <h1>TASTY TRIVIA</h1>
      <p>Delicious Offline Trivia Events!</p>
    </div>
  </div>

  <div class="subtagline">
    <p style="margin-bottom: 20px;">🎉 Fun & Beginner-friendly</p>
    <p>🧠 For GenZs & Millennials</p>
  </div>

  <div class="early-bird-banner">
    🔥 Early Bird Special - Save ₹170! Limited Time Only
  </div>

  <div class="register-buttons">
    <a href="https://lu.ma/event/evt-MkKdvs95DqbpBNI" 
       class="register-button luma-checkout--button" 
       data-luma-action="checkout" 
       data-luma-event-id="evt-MkKdvs95DqbpBNI">
      <div class="button-content">
        <div class="button-main">☁️ BANGALORE</div>
        <div class="button-price">₹129</div>
        <div class="button-details">Sep 6, 4-6 PM</div>
      </div>
      <span class="share-icon" onclick="shareEvent('https://lu.ma/event/evt-MkKdvs95DqbpBNI', 'Bangalore', '06 Sep', '4–6 PM')">
        <img src="https://i.ibb.co/FkxqqVZw/Arrow.png" alt="Share" />
      </span>
    </a>
    <a href="https://lu.ma/event/evt-mHz4EjwBN6PDIFK" 
       class="register-button luma-checkout--button" 
       data-luma-action="checkout" 
       data-luma-event-id="evt-mHz4EjwBN6PDIFK">
      <div class="button-content">
        <div class="button-main">⭐ BHUBANESWAR</div>
        <div class="button-price">₹129</div>
        <div class="button-details">Nov 15, 5-7 PM</div>
      </div>
      <span class="share-icon" onclick="shareEvent('https://lu.ma/event/evt-mHz4EjwBN6PDIFK', 'Bhubaneswar', 'Nov 15', '5–7 PM')">
        <img src="https://i.ibb.co/FkxqqVZw/Arrow.png" alt="Share" />
      </span>
    </a>
  </div>

  <div class="news-link">
    <a href="#" onclick="openNews(); return false;">📰 We Got Featured!</a>
  </div>

  <div class="carousel-container">
    <button class="nav-button prev" onclick="prevSlide()" aria-label="Previous event poster">←</button>
    <div class="carousel" id="carousel">
      <img src="https://i.ibb.co/qFCKccSc/BBSR-Nov-15.png" alt="Tasty Trivia BBSR November 15 event poster" loading="lazy" onerror="handleImageError(this)" />
      <img src="https://i.ibb.co/NgT1RXVH/BLR-KSamagata-OS.png" alt="Tasty Trivia BLR event poster" loading="lazy" onerror="handleImageError(this)" />
    </div>
    <button class="nav-button next" onclick="nextSlide()" aria-label="Next event poster">→</button>
  </div>

  <div class="upcoming-cities">
    <div class="upcoming-title">🚀 Coming Soon</div>
    <div class="cities-list">Goa • Mumbai • Delhi • Pune • Hyderabad</div>
    <div class="notify-text">Want to be notified? Join our community below! 👇</div>
  </div>

  <div class="whatsapp-section">
    <a href="https://bit.ly/Tasty_Trivia" class="whatsapp-button" target="_blank">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" onerror="this.style.display='none'" />
      Join 500+ Members - Get Special Prices!
    </a>
    <div class="whatsapp-benefits">
      <h3>🍜 Get The Tastiest Access</h3>
      <div class="benefits-grid">
        <div class="benefit-item">📢 Event Updates</div>
        <div class="benefit-item">💰 Special Prices</div>
        <div class="benefit-item">🏆 Exclusive Contests</div>
      </div>
    </div>
  </div>

  <div class="footer">
    <div class="footer-content">
      <div class="creators-section">
        <div class="creators-title">👥 Meet the Curators</div>
        <div class="creators-names">
          <a href="https://in.linkedin.com/in/reach-saloni" target="_blank">Sal</a> & <a href="https://in.linkedin.com/in/whysosuso" target="_blank">Suso</a>
        </div>
        <div class="creators-subtitle">Making trivia fun, one event at a time ❤️</div>
      </div>
      <div class="community-section">
        <div class="community-text">Powered by our lovely friends!</div>
      </div>
      <div class="contact-section">
        <div class="contact-title">📧 Get in Touch</div>
        <div class="contact-email">
          <a href="mailto:hi.tastytrivia@gmail.com">hi.tastytrivia@gmail.com</a>
        </div>
        <div class="social-handles">
          <span class="social-handle">📸 IG: @gettastytrivia</span>
          <span class="social-separator">•</span>
          <span class="social-handle">🐦 X: @gettastytrivia</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    const carousel = document.getElementById('carousel');
    let index = 0;
    let autoSlideInterval;

    function showSlide() {
      if (carousel && carousel.children.length > 0) {
        carousel.style.transform = `translateX(-${index * 100}%)`;
      }
    }

    function nextSlide() {
      if (carousel && carousel.children.length > 0) {
        index = (index + 1) % carousel.children.length;
        showSlide();
      }
    }

    function prevSlide() {
      if (carousel && carousel.children.length > 0) {
        index = (index - 1 + carousel.children.length) % carousel.children.length;
        showSlide();
      }
    }

    // Start auto-slide with longer interval
    function startAutoSlide() {
      autoSlideInterval = setInterval(nextSlide, 5000);
    }

    function stopAutoSlide() {
      if (autoSlideInterval) {
        clearInterval(autoSlideInterval);
      }
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft') {
        stopAutoSlide();
        prevSlide();
        setTimeout(startAutoSlide, 3000);
      } else if (e.key === 'ArrowRight') {
        stopAutoSlide();
        nextSlide();
        setTimeout(startAutoSlide, 3000);
      }
    });

    // Image error handling
    function handleImageError(img) {
      img.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23F5DEB3"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="16" fill="%23db4118">Event Poster</text></svg>';
      img.alt = "Event poster (image unavailable)";
    }

    // Logo error handling
    function handleLogoError(img) {
      img.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70"><rect width="70" height="70" fill="%23db4118" rx="8"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="12" fill="white" font-weight="bold">TT</text></svg>';
      img.alt = "Tasty Trivia logo (fallback)";
    }

    // Loading state for register buttons
    function addLoadingState(button) {
      button.classList.add('loading');
      setTimeout(() => {
        button.classList.remove('loading');
      }, 3000);
    }

    // Enhanced share function with error handling
    function shareEvent(link, city, date, time) {
      try {
        const message = `🧠 Found this awesome trivia event in ${city} (${date} ${time})! \n\nPrizes + fun + meet cool people + beginner friendly = perfect time! 🎉\n\n${link}`;
        const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
      } catch (error) {
        console.error('Error sharing event:', error);
        // Fallback: copy to clipboard
        if (navigator.clipboard) {
          navigator.clipboard.writeText(link);
          alert('Link copied to clipboard!');
        }
      }
    }

    function openNews() {
      try {
        window.open(
          "https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar",
          "newsPopup",
          "width=600,height=700,resizable=yes,scrollbars=yes"
        );
      } catch (error) {
        console.error('Error opening news:', error);
        window.location.href = "https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar";
      }
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      startAutoSlide();
      
      // Add click handlers to register buttons for loading state
      const registerButtons = document.querySelectorAll('.register-button');
      registerButtons.forEach(button => {
        button.addEventListener('click', function() {
          addLoadingState(this);
        });
      });
    });

    // Pause auto-slide when page is not visible
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        stopAutoSlide();
      } else {
        startAutoSlide();
      }
    });
  </script>
</body>
</html>
