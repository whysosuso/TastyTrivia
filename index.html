<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TASTY TRIVIA ‚Äì Offline Trivia Game Shows</title>
  <link rel="icon" href="https://emoji.gg/assets/emoji/7699-pepperoni-pizza.png" />
  <script id="luma-checkout" src="https://embed.lu.ma/checkout-button.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Oswald:ital,wght@0,400;0,500;0,600;1,400&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Safety: prevent any page-level horizontal overflow */
    html, body { overflow-x: hidden; }

    /* existing styles (preserved) ... */
    .ticker-container { position: fixed; top:0; left:0; width:100%; background: linear-gradient(90deg,#db4118,#1E2A5A,#6B46C1); color:#fff; height:40px; overflow:hidden; z-index:1000; box-shadow: 0 2px 8px rgba(219,65,24,0.3); border-bottom:1px solid rgba(255,255,255,0.2); }
    .ticker-content { display:flex; animation: tickerScroll 25s linear infinite; white-space:nowrap; line-height:40px; font-family:'Oswald',sans-serif; font-weight:500; font-size:0.95rem; letter-spacing:0.5px; }
    .ticker-content:hover { animation-play-state: paused; }
    .ticker-text { padding-right:80px; }
    @keyframes tickerScroll { 0%{ transform:translateX(100%);} 100%{ transform:translateX(-100%);} }

    /* ... keep all other existing styles unchanged until partners block ... */

    html, body {
      font-family: 'Oswald','Bebas Neue','Arial Black',sans-serif;
      background-color: #F5DEB3;
      color: #000000;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
      padding-top: 60px;
    }
    @media (max-width:768px) { html, body { padding-top: 55px; } }

    .header-box { text-align:center; background-color:#F5DEB3; padding:1rem 1.5rem; border-radius:10px; box-shadow:0 0 12px rgba(219,65,24,0.6); margin-bottom:1.5rem; border:2px solid #db4118; display:flex; align-items:center; justify-content:center; gap:1.5rem; }
    .header-logo { width:70px; height:70px; object-fit:contain; flex-shrink:0; }
    .header-text { display:flex; flex-direction:column; align-items:center; text-align:center; }
    .header-box h1 { font-family:'Bebas Neue','Oswald',sans-serif; font-size:3.2rem; font-weight:400; color:#db4118; letter-spacing:2px; margin:0; }
    .header-box p { font-family:'Oswald',sans-serif; font-style:italic; font-size:1.2rem; color:#000; font-weight:400; margin:0.3rem 0 0; }

    /* promo, register buttons, countdown, etc. kept from original ‚Äî omitted here for brevity in the answer, but included in the full file below */
    /* ------------------ PARTNERS CAROUSEL (fixed) ------------------ */

    .partners-section {
      width: 100%;
      max-width: 760px;
      margin: 1.6rem auto;
      padding: 1rem;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(219,65,24,0.03), rgba(30,42,90,0.02));
      border: 1px solid rgba(219,65,24,0.08);
      box-shadow: 0 6px 20px rgba(219,65,24,0.04);
      text-align: center;
      font-family: 'Oswald', sans-serif;
      box-sizing: border-box;
    }

    .partners-title { margin: 0 0 0.8rem 0; color:#db4118; font-weight:600; letter-spacing:0.6px; font-size:1.05rem; }

    /* viewport strictly clips overflow */
    .partners-viewport {
      width: 100%;
      max-width: 100%;
      overflow: hidden;               /* Always hide overflow on all but tiny screens */
      padding: 0.6rem 0;
      border-radius: 8px;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    /* track: keep auto width (no forced pixel width), single non-wrapping row */
    .partners-track {
      display:flex;
      align-items:center;
      gap:1rem;
      flex-wrap:nowrap;
      will-change:transform;
      animation-name: partnersScroll;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
      animation-duration: var(--partners-duration, 28s);
      animation-play-state: running;
      width: auto;            /* don't fix width to avoid fractional overflow */
      box-sizing: border-box;
    }

    .partner-item {
      flex: 0 0 auto;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:0.45rem;
      border-radius:8px;
      background: rgba(255,255,255,0.95);
      box-shadow:0 2px 8px rgba(0,0,0,0.04);
      --partner-logo-width: 140px;
      --partner-logo-height: 96px;
      width: var(--partner-logo-width);
      height: var(--partner-logo-height);
      box-sizing: border-box;
      overflow:hidden;
      min-width: 0;
    }

    /* logos: use src (not data-src) and contained */
    .partner-item img {
      display:block;
      width:auto;
      height:auto;
      max-width:100%;
      max-height:100%;
      object-fit:contain;
      filter: grayscale(100%) saturate(60%);
      transition: filter 220ms ease, transform 220ms ease;
      -webkit-user-drag: none;
    }
    .partner-item a:focus img,
    .partner-item:hover img { filter:none; transform: translateY(-3px) scale(1.02); }

    @keyframes partnersScroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

    /* responsive */
    @media (max-width:768px) {
      .partner-item { --partner-logo-width: 110px; --partner-logo-height: 72px; }
      .partners-track { gap:0.7rem; animation-duration: var(--partners-duration, 36s); }
    }

    /* tiny screens: stop animation and allow swipe */
    @media (max-width:420px) {
      .partners-viewport { overflow-x: auto; -webkit-overflow-scrolling: touch; }
      .partners-track { animation: none; gap:0.6rem; }
    }

    @media (prefers-reduced-motion: reduce) {
      .partners-track { animation: none; }
    }

    /* small visual polish */
    .partners-track .partner-item + .partner-item { margin-left: 0; }

    /* rest of your existing styles (footer, whatsapp etc.) are preserved below in the full file */
  </style>
</head>
<body>
  <div class="ticker-container">
    <div class="ticker-content">
      <span class="ticker-text">üéâ 6 Cities ‚Ä¢ 900+ Happy Participants ‚Ä¢ 100% Fun Guaranteed ‚Ä¢ Join the Community! üß†</span>
      <span class="ticker-text">üéâ 6 Cities ‚Ä¢ 900+ Happy Participants ‚Ä¢ 100% Fun Guaranteed ‚Ä¢ Join the Community! üß†</span>
      <span class="ticker-text">üéâ 6 Cities ‚Ä¢ 900+ Happy Participants ‚Ä¢ 100% Fun Guaranteed ‚Ä¢ Join the Community! üß†</span>
    </div>
  </div>

  <div class="header-box fade-in">
    <img src="https://i.ibb.co/1fwSfgcK/8-bit-purple-logo-2x-removebg-preview.png" alt="Tasty Trivia 8-bit logo" class="header-logo" onerror="handleLogoError(this)" />
    <div class="header-text">
      <h1>TASTY TRIVIA</h1>
      <p>Delicious Offline Trivia Events!</p>
    </div>
  </div>

  <div class="promo-section fade-in">
    <div class="promo-title">üî• Early Bird Special</div>
    <div class="promo-subtitle">üéâ Fun & Beginner-friendly</div>
    <div class="promo-subtitle">üß† For GenZs & Millennials</div>
  </div>

  <!-- EVENTS (kept from your original page) -->
  <div class="register-buttons fade-in">
    <div class="register-button slide-in-left" style="cursor: default;">
      <div class="button-content">
        <div class="button-emoji">‚òÅÔ∏è</div>
        <div class="button-main">BENGALURU</div>
        <div class="button-price">Rs 349</div>
        <div class="button-details">Nov 21, 9‚Äì11 PM</div>
        <div class="countdown-timer tickets-soon">Tickets Out Soon</div>
      </div>
      <span class="share-icon" onclick="shareEvent('', 'Bengaluru', 'Nov 21', '9‚Äì11 PM'); event.stopPropagation();">
        <img src="https://i.ibb.co/FkxqqVZw/Arrow.png" alt="Share" />
      </span>
    </div>

    <a href="https://lu.ma/event/evt-mHz4EjwBN6PDIFK" class="register-button luma-checkout--button slide-in-right" data-luma-action="checkout" data-luma-event-id="evt-mHz4EjwBN6PDIFK">
      <div class="button-content">
        <div class="button-emoji">‚≠ê</div>
        <div class="button-main">BHUBANESWAR</div>
        <div class="button-price">Rs 199</div>
        <div class="button-details">Dec 27, 5‚Äì7 PM</div>
        <div class="countdown-timer" id="countdown-bhubaneswar">Loading...</div>
      </div>
      <span class="share-icon" onclick="shareEvent('https://lu.ma/event/evt-mHz4EjwBN6PDIFK', 'Bhubaneswar', 'Dec 27', '5‚Äì7 PM'); event.stopPropagation();">
        <img src="https://i.ibb.co/FkxqqVZw/Arrow.png" alt="Share" />
      </span>
    </a>
  </div>

  <div class="news-link fade-in">
    <a href="#" onclick="openNews(); return false;">üì∞ We Got Featured!</a>
  </div>

  <div class="upcoming-cities fade-in">
    <div class="upcoming-title">üöÄ Coming Soon</div>
    <div class="cities-list">Mumbai ‚Ä¢ Delhi ‚Ä¢ Pune ‚Ä¢ Hyderabad</div>
    <div class="notify-text">Want to be notified? Join our community below! üëá</div>
  </div>

  <!-- PARTNERS: use src attribute (not data-src) so images load reliably -->
  <div class="partners-section fade-in" role="region" aria-label="Our past venue partners">
    <h2 class="partners-title">üèõÔ∏è Our Past Venue Partners</h2>
    <div class="partners-viewport" tabindex="0" aria-live="polite">
      <div class="partners-track" id="partnersTrack" aria-hidden="false">
        <!-- original set (src used directly for reliability) -->
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/gb6m57zt/Whats-App-Image-2025-10-26-at-00-08-30.jpg" alt="Partner 1" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/XxDLRqkp/Whats-App-Image-2025-10-26-at-00-08-31-1.jpg" alt="Partner 2" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/rKmqLnxQ/Whats-App-Image-2025-10-26-at-00-08-31-2.jpg" alt="Partner 3" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/MxPszGTF/Whats-App-Image-2025-10-26-at-00-08-31.jpg" alt="Partner 4" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/Dd869bS/Whats-App-Image-2025-10-26-at-00-08-32-1.jpg" alt="Partner 5" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/k2xKM6M6/Whats-App-Image-2025-10-26-at-00-08-32-2.jpg" alt="Partner 6" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/WWBx0K7r/Whats-App-Image-2025-10-26-at-00-08-32.jpg" alt="Partner 7" loading="lazy"></a></div>

        <!-- duplicated set for smooth infinite scroll -->
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/gb6m57zt/Whats-App-Image-2025-10-26-at-00-08-30.jpg" alt="Partner 1" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/XxDLRqkp/Whats-App-Image-2025-10-26-at-00-08-31-1.jpg" alt="Partner 2" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/rKmqLnxQ/Whats-App-Image-2025-10-26-at-00-08-31-2.jpg" alt="Partner 3" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/MxPszGTF/Whats-App-Image-2025-10-26-at-00-08-31.jpg" alt="Partner 4" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/Dd869bS/Whats-App-Image-2025-10-26-at-00-08-32-1.jpg" alt="Partner 5" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/k2xKM6M6/Whats-App-Image-2025-10-26-at-00-08-32-2.jpg" alt="Partner 6" loading="lazy"></a></div>
        <div class="partner-item"><a href="#" target="_blank" rel="noopener"><img src="https://i.ibb.co/WWBx0K7r/Whats-App-Image-2025-10-26-at-00-08-32.jpg" alt="Partner 7" loading="lazy"></a></div>
      </div>
    </div>
  </div>

  <div class="whatsapp-section fade-in">
    <a href="https://bit.ly/Tasty_Trivia" class="whatsapp-button" target="_blank">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" onerror="this.style.display='none'" />
      Join 500+ Members - Get Special Prices!
    </a>
    <div class="whatsapp-benefits">
      <h3>üçú Get The Tastiest Access</h3>
      <div class="benefits-grid">
        <div class="benefit-item">üì¢ Event Updates</div>
        <div class="benefit-item">üí∞ Special Prices</div>
        <div class="benefit-item">üèÜ Exclusive Contests</div>
      </div>
    </div>
  </div>

  <!-- rest of footer, etc. (kept from your original) -->
  <div class="footer fade-in">
    <div class="footer-content">
      <div class="creators-section">
        <div class="creators-title">üë• Meet the Curators</div>
        <div class="creators-names">
          <a href="https://in.linkedin.com/in/reach-saloni" target="_blank">Sal</a> & <a href="https://in.linkedin.com/in/whysosuso" target="_blank">Suso</a>
        </div>
        <div class="creators-subtitle">Making trivia fun, one event at a time ‚ù§Ô∏è</div>
      </div>
      <div class="community-section">
        <div class="community-text">Powered by our lovely friends!</div>
      </div>
      <div class="contact-section">
        <div class="contact-title">üìß Get in Touch</div>
        <div class="contact-email">
          <a href="mailto:hi.tastytrivia@gmail.com">hi.tastytrivia@gmail.com</a>
        </div>
        <div class="social-handles">
          <span class="social-handle">üì∏ IG: @gettastytrivia</span>
          <span class="social-separator">‚Ä¢</span>
          <span class="social-handle">üê¶ X: @gettastytrivia</span>
        </div>
      </div>
    </div>
  </div>

  <button class="back-to-top" id="backToTop" onclick="scrollToTop()" aria-label="Back to top">‚Üë</button>

  <script>
    /* ---------------- existing page JS (countdown, animations, helpers) ---------------- */
    const backToTopButton = document.getElementById('backToTop');
    let countdownIntervals = {};
    const eventDates = { 'countdown-bhubaneswar': new Date('2025-12-27T17:00:00+05:30') };

    function updateCountdown(timerId, targetDate) {
      const now = new Date();
      const timeLeft = targetDate - now;
      const timerElement = document.getElementById(timerId);
      if (!timerElement) return;
      if (timeLeft <= 0) { timerElement.textContent = 'Event Started!'; timerElement.className = 'countdown-timer expired'; if (countdownIntervals[timerId]) { clearInterval(countdownIntervals[timerId]); delete countdownIntervals[timerId]; } return; }
      const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
      const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
      let countdownText = '', timerClass = 'countdown-timer';
      if (days > 0) countdownText = `${days}d ${hours}h`;
      else if (hours > 0) { countdownText = `${hours}h ${minutes}m`; if (hours <= 24) timerClass += ' urgent'; }
      else if (minutes > 0) { countdownText = `${minutes}m ${seconds}s`; timerClass += ' urgent'; }
      else { countdownText = `${seconds}s`; timerClass += ' urgent'; }
      timerElement.textContent = countdownText;
      timerElement.className = timerClass;
    }
    function startCountdowns() {
      Object.values(countdownIntervals).forEach(i => clearInterval(i));
      countdownIntervals = {};
      Object.entries(eventDates).forEach(([id, dt]) => { updateCountdown(id, dt); countdownIntervals[id] = setInterval(() => updateCountdown(id, dt), 1000); });
    }
    function scrollToTop(){ window.scrollTo({ top:0, behavior:'smooth' }); }
    function handleScroll(){ const scrollTop = window.pageYOffset || document.documentElement.scrollTop; if (scrollTop > 300) backToTopButton.classList.add('visible'); else backToTopButton.classList.remove('visible'); }
    function setupAnimations(){
      const animatedElements = document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right');
      const observer = new IntersectionObserver((entries)=> { entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); }); }, { threshold:0.1, rootMargin:'50px' });
      animatedElements.forEach(el => observer.observe(el));
    }
    function handleImageError(img){ img.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23F5DEB3"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="16" fill="%23db4118">Event Poster</text></svg>'; img.alt = "Event poster (image unavailable)"; }
    function handleLogoError(img){ img.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70"><rect width="70" height="70" fill="%23db4118" rx="8"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="12" fill="white" font-weight="bold">TT</text></svg>'; img.alt = "Tasty Trivia logo (fallback)"; }
    function shareEvent(link, city, date, time){
      try {
        let message = `üß† Found this awesome trivia event in ${city} (${date} ${time})! \n\nPrizes + fun + meet cool people + beginner friendly = perfect time! üéâ`;
        if (link) message += `\n\n${link}`; else message += `\n\nTickets coming soon! Join our WhatsApp community for updates.`;
        const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
      } catch (err) { console.error('Error sharing:', err); if (navigator.clipboard && link) { navigator.clipboard.writeText(link); alert('Link copied to clipboard!'); } }
    }
    function openNews(){ try { window.open("https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar", "newsPopup", "width=600,height=700,resizable=yes,scrollbars=yes"); } catch(e){ window.location.href = "https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar"; } }

    /* ---------- Partners carousel logic (reliable + responsive) ---------- */
    function debounce(fn, wait){ let t; return function(...a){ clearTimeout(t); t = setTimeout(()=> fn.apply(this, a), wait); }; }

    function optimisePartners() {
      const track = document.getElementById('partnersTrack');
      if (!track) return;
      const viewport = track.parentElement;
      // ensure single row
      track.style.flexWrap = 'nowrap';

      // If our markup already duplicated items (we did), ensure there's still enough items:
      const originalCount = Math.floor(track.children.length / 2) || track.children.length;
      const original = Array.from(track.children).slice(0, originalCount);
      let attempts = 0;
      while (track.scrollWidth < (viewport.clientWidth * 2) && attempts < 6) {
        original.forEach(node => track.appendChild(node.cloneNode(true)));
        attempts++;
      }

      // Remove any data-src logic (we used src) ‚Äî but ensure onerror fallback is present:
      track.querySelectorAll('img').forEach(img => { img.onerror = () => handleImageError(img); });

      // compute animation speed from pixel distance (comfortable pace)
      const fullWidth = track.scrollWidth || (viewport.clientWidth * 2);
      const distance = fullWidth * 0.5;
      const basePixelsPerSecond = 80;
      let durationSec = Math.max(8, Math.round(distance / basePixelsPerSecond));
      durationSec = Math.min(durationSec, 90);
      track.style.setProperty('--partners-duration', `${durationSec}s`);

      // For very small viewports enable swipe and stop animation
      if (viewport.clientWidth <= 420) {
        viewport.style.overflowX = 'auto';
        track.style.animation = 'none';
      } else {
        viewport.style.overflow = 'hidden';
        track.style.animation = ''; // allow CSS animation defined earlier to run
      }

      // Pause/resume on user interaction
      const pause = () => { track.style.animationPlayState = 'paused'; };
      const play = () => { track.style.animationPlayState = 'running'; };

      viewport.removeEventListener('mouseenter', pause);
      viewport.removeEventListener('mouseleave', play);
      viewport.removeEventListener('touchstart', pause);
      viewport.removeEventListener('touchend', play);

      viewport.addEventListener('mouseenter', pause);
      viewport.addEventListener('mouseleave', play);
      viewport.addEventListener('touchstart', pause, {passive:true});
      viewport.addEventListener('touchend', play, {passive:true});
    }

    // run on load + resize
    window.addEventListener('load', optimisePartners);
    window.addEventListener('resize', debounce(optimisePartners, 220));
    window.addEventListener('orientationchange', debounce(optimisePartners, 260));
    /* ---------- end partners logic ---------- */

    document.addEventListener('DOMContentLoaded', function() {
      setupAnimations();
      startCountdowns();
      window.addEventListener('scroll', handleScroll);
    });

    document.addEventListener('visibilitychange', function() {
      if (document.hidden) { Object.values(countdownIntervals).forEach(interval => clearInterval(interval)); }
      else { startCountdowns(); }
    });

    window.addEventListener('beforeunload', function() {
      Object.values(countdownIntervals).forEach(interval => clearInterval(interval));
      // restore any page overflow modifications if needed (we keep html overflow-x:hidden by design)
    });
  </script>
</body>
</html>
