<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TASTY TRIVIA – Delicious Offline Trivia Events</title>
  <link rel="icon" href="https://emoji.gg/assets/emoji/7699-pepperoni-pizza.png" />
  <script id="luma-checkout" src="https://embed.lu.ma/checkout-button.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Oswald:ital,wght@0,400;0,500;0,600;1,400&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    .ticker-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: linear-gradient(90deg, #db4118, #1E2A5A, #6B46C1);
      color: white;
      height: 40px;
      overflow: hidden;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(219, 65, 24, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .ticker-content {
      display: flex;
      animation: tickerScroll 25s linear infinite;
      white-space: nowrap;
      line-height: 40px;
      font-family: 'Oswald', sans-serif;
      font-weight: 500;
      font-size: 0.95rem;
      letter-spacing: 0.5px;
    }
    
    .ticker-content:hover {
      animation-play-state: paused;
    }
    
    .ticker-text {
      padding-right: 80px;
    }
    
    @keyframes tickerScroll {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    
    @media (max-width: 768px) {
      .ticker-container {
        height: 35px;
      }
      .ticker-content {
        line-height: 35px;
        font-size: 0.85rem;
        animation-duration: 20s;
      }
    }
    html, body {
      font-family: 'Oswald', 'Bebas Neue', 'Arial Black', sans-serif;
      background-color: #F5DEB3; /* Butterscotch background */
      color: #000000;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
      padding-top: 60px; /* Account for fixed ticker */
    }
    
    @media (max-width: 768px) {
      html, body {
        padding-top: 55px; /* Adjust for mobile ticker height */
      }
    }
    .header-box {
      text-align: center;
      background-color: #F5DEB3; /* Butterscotch */
      padding: 1rem 1.5rem;
      border-radius: 10px;
      box-shadow: 0 0 12px rgba(219, 65, 24, 0.6);
      margin-bottom: 1.5rem;
      border: 2px solid #db4118; /* Syracuse Orange */
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
    }
    
    .header-logo {
      width: 70px;
      height: 70px;
      object-fit: contain;
      flex-shrink: 0;
    }
    
    .header-text {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    
    .header-box h1 {
      font-family: 'Bebas Neue', 'Oswald', sans-serif;
      font-size: 3.2rem;
      font-weight: 400;
      color: #db4118; /* Syracuse Orange - brand header color */
      margin-bottom: 0.5rem;
      letter-spacing: 2px;
      margin: 0;
    }
    .header-box p {
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 1.2rem;
      color: #000000; /* Brand body color */
      font-weight: 400;
      margin: 0;
      margin-top: 0.3rem;
    }
    
    @media (max-width: 768px) {
      .header-box {
        flex-direction: column;
        gap: 1rem;
        padding: 1.2rem 1rem;
      }
      
      .header-logo {
        width: 50px;
        height: 50px;
      }
      
      .header-box h1 {
        font-size: 2.8rem;
      }
      
      .header-box p {
        font-size: 1.1rem;
      }
    }
    .subtagline {
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 1.1rem;
      color: #000000; /* Brand body color */
      text-align: center;
      max-width: 600px;
      margin-bottom: 1.5rem;
      font-weight: 400;
    }
    .register-info {
      border: 1px solid #db4118; /* Syracuse Orange */
      padding: 0.6rem 1rem;
      border-radius: 8px;
      background-color: #F5DEB3; /* Butterscotch */
      margin-bottom: 1.5rem;
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 1rem;
      color: #000000; /* Brand body color */
      text-align: center;
      line-height: 1.4;
    }
    .news-link {
      border: 2px solid #db4118; /* Syracuse Orange */
      border-radius: 8px;
      background-color: #F5DEB3; /* Butterscotch */
      padding: 0.8rem 1rem;
      box-shadow: 0 0 10px rgba(219, 65, 24, 0.5);
      margin-bottom: 1.5rem;
      text-align: center;
    }
    .news-link a {
      text-decoration: none;
      color: #db4118; /* Syracuse Orange */
      font-family: 'Oswald', sans-serif;
      font-weight: 600;
      font-size: 1rem;
    }
    .register-buttons {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.8rem;
      margin-bottom: 1.5rem;
    }
    .register-button {
      background-color: #1E2A5A; /* Space Cadet */
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      font-family: 'Oswald', sans-serif;
      font-weight: 500;
      font-size: 1.1rem;
      border-radius: 8px;
      cursor: pointer;
      text-decoration: none;
      width: 100%;
      max-width: 420px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background-color 0.3s ease;
      position: relative;
    }
    .register-button:hover {
      background-color: #6B46C1; /* Eminence on hover */
    }
    .register-button.loading {
      opacity: 0.7;
      pointer-events: none;
    }
    .register-button.loading::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 20px;
      height: 20px;
      border: 2px solid transparent;
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }
    .highlight {
      box-shadow: 0 0 15px 4px rgba(219, 65, 24, 0.8); /* Syracuse Orange glow */
    }
    .share-icon {
      margin-left: 12px;
      cursor: pointer;
      padding: 8px;
      min-width: 44px;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }
    .share-icon:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    .share-icon img {
      width: 20px;
      height: 20px;
    }
    .carousel-container {
      position: relative;
      width: 90%;
      max-width: 500px;
      overflow: hidden;
      margin: 1rem 0;
    }
    .carousel {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }
    .carousel img {
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      flex-shrink: 0;
    }
    .nav-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(30, 42, 90, 0.8); /* Space Cadet with transparency */
      color: white;
      border: none;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      z-index: 1;
      transition: background-color 0.3s ease;
    }
    .nav-button:hover {
      background-color: rgba(219, 65, 24, 0.9); /* Syracuse Orange on hover */
    }
    .prev { left: 10px; }
    .next { right: 10px; }
    .upcoming {
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 1rem;
      color: #000000; /* Brand body color */
      margin: 1rem 0;
      font-weight: 400;
    }
    .whatsapp-button {
      background-color: #25D366;
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      font-family: 'Oswald', sans-serif;
      font-size: 1rem;
      font-weight: 500;
      border-radius: 6px;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      margin-top: 1rem;
      transition: background-color 0.3s ease;
    }
    .whatsapp-button:hover {
      background-color: #128C7E;
    }
    .whatsapp-button img {
      width: 18px;
      height: 18px;
    }
    .footer {
      margin-top: 2rem;
      font-family: 'Oswald', sans-serif;
      font-style: italic;
      font-size: 0.95rem;
      color: #000000; /* Brand body color */
      text-align: center;
      font-weight: 400;
    }
  </style>
</head>
<body>
  <div class="ticker-container">
    <div class="ticker-content">
      <span class="ticker-text">🎉 5+ Cities • 300+ Happy Participants • 100% Fun Guaranteed • Join the Community! 🧠</span>
      <span class="ticker-text">🎉 5+ Cities • 300+ Happy Participants • 100% Fun Guaranteed • Join the Community! 🧠</span>
      <span class="ticker-text">🎉 5+ Cities • 300+ Happy Participants • 100% Fun Guaranteed • Join the Community! 🧠</span>
    </div>
  </div>

  <div class="header-box">
    <img src="https://i.ibb.co/1fwSfgcK/8-bit-purple-logo-2x-removebg-preview.png" 
         alt="Tasty Trivia 8-bit logo" 
         class="header-logo"
         onerror="handleLogoError(this)" />
    <div class="header-text">
      <h1>TASTY TRIVIA</h1>
      <p>Delicious Offline Trivia Events!</p>
    </div>
  </div>

  <div class="subtagline">
    <p style="margin-bottom: 20px;">🎉 Fun & Beginner-friendly</p>
    <p>🧠 For GenZs & Millennials</p>
  </div>

  <div class="register-buttons">
    <a href="https://lu.ma/event/evt-MkKdvs95DqbpBNI" 
       class="register-button luma-checkout--button" 
       data-luma-action="checkout" 
       data-luma-event-id="evt-MkKdvs95DqbpBNI">
      💰 BLR | 4–6 PM, 06 Sep
      <span class="share-icon" onclick="shareEvent('https://lu.ma/event/evt-MkKdvs95DqbpBNI', 'Bangalore', '06 Sep', '4–6 PM')">
        <img src="https://i.ibb.co/3mQ9QkRN/80cc9e7494c51de832d0ef3746199004.png" alt="WhatsApp Share" />
      </span>
    </a>
  </div>
  <div class="register-buttons">
    <a href="https://lu.ma/event/evt-mHz4EjwBN6PDIFK" 
       class="register-button luma-checkout--button" 
       data-luma-action="checkout" 
       data-luma-event-id="evt-mHz4EjwBN6PDIFK">
      💰 BBSR | 5–7 PM, 15 Nov
      <span class="share-icon" onclick="shareEvent('https://lu.ma/event/evt-mHz4EjwBN6PDIFK', 'Bhubaneswar', 'Nov 15', '5–7 PM')">
        <img src="https://i.ibb.co/3mQ9QkRN/80cc9e7494c51de832d0ef3746199004.png" alt="WhatsApp Share" />
      </span>
    </a>
  </div>

  <div class="register-info">🆓 = Free Events | 💰 = Paid Events</div>

  <div class="news-link">
    <a href="#" onclick="openNews(); return false;">📰 We Got Featured!</a>
  </div>

  <div class="carousel-container">
    <button class="nav-button prev" onclick="prevSlide()" aria-label="Previous event poster">←</button>
    <div class="carousel" id="carousel">
      <img src="https://i.ibb.co/qFCKccSc/BBSR-Nov-15.png" alt="Tasty Trivia BBSR November 15 event poster" loading="lazy" onerror="handleImageError(this)" />
      <img src="https://i.ibb.co/NgT1RXVH/BLR-KSamagata-OS.png" alt="Tasty Trivia BLR event poster" loading="lazy" onerror="handleImageError(this)" />
    </div>
    <button class="nav-button next" onclick="nextSlide()" aria-label="Next event poster">→</button>
  </div>

  <div class="upcoming">🗓️ Next: Bangalore, Goa, Bhubaneswar, Mumbai</div>

  <a href="https://bit.ly/Tasty_Trivia" class="whatsapp-button" target="_blank">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" onerror="this.style.display='none'" />
    Join WhatsApp Community
  </a>

  <div class="footer">
    <b>Curated with ❤️ by Sal & Suso</b><br>[Supported by their lovely friends]
  </div>

  <script>
    const carousel = document.getElementById('carousel');
    let index = 0;
    let autoSlideInterval;

    function showSlide() {
      if (carousel && carousel.children.length > 0) {
        carousel.style.transform = `translateX(-${index * 100}%)`;
      }
    }

    function nextSlide() {
      if (carousel && carousel.children.length > 0) {
        index = (index + 1) % carousel.children.length;
        showSlide();
      }
    }

    function prevSlide() {
      if (carousel && carousel.children.length > 0) {
        index = (index - 1 + carousel.children.length) % carousel.children.length;
        showSlide();
      }
    }

    // Start auto-slide with longer interval
    function startAutoSlide() {
      autoSlideInterval = setInterval(nextSlide, 5000);
    }

    function stopAutoSlide() {
      if (autoSlideInterval) {
        clearInterval(autoSlideInterval);
      }
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft') {
        stopAutoSlide();
        prevSlide();
        setTimeout(startAutoSlide, 3000);
      } else if (e.key === 'ArrowRight') {
        stopAutoSlide();
        nextSlide();
        setTimeout(startAutoSlide, 3000);
      }
    });

    // Image error handling
    function handleImageError(img) {
      img.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23F5DEB3"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="16" fill="%23db4118">Event Poster</text></svg>';
      img.alt = "Event poster (image unavailable)";
    }

    // Logo error handling
    function handleLogoError(img) {
      img.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70"><rect width="70" height="70" fill="%23db4118" rx="8"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="12" fill="white" font-weight="bold">TT</text></svg>';
      img.alt = "Tasty Trivia logo (fallback)";
    }

    // Loading state for register buttons
    function addLoadingState(button) {
      button.classList.add('loading');
      setTimeout(() => {
        button.classList.remove('loading');
      }, 3000);
    }

    // Enhanced share function with error handling
    function shareEvent(link, city, date, time) {
      try {
        const message = `🧠 Found this awesome trivia event in ${city} (${date} ${time})! \n\nPrizes + fun + meet cool people + beginner friendly = perfect time! 🎉\n\n${link}`;
        const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
      } catch (error) {
        console.error('Error sharing event:', error);
        // Fallback: copy to clipboard
        if (navigator.clipboard) {
          navigator.clipboard.writeText(link);
          alert('Link copied to clipboard!');
        }
      }
    }

    function openNews() {
      try {
        window.open(
          "https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar",
          "newsPopup",
          "width=600,height=700,resizable=yes,scrollbars=yes"
        );
      } catch (error) {
        console.error('Error opening news:', error);
        window.location.href = "https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar";
      }
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      startAutoSlide();
      
      // Add click handlers to register buttons for loading state
      const registerButtons = document.querySelectorAll('.register-button');
      registerButtons.forEach(button => {
        button.addEventListener('click', function() {
          addLoadingState(this);
        });
      });
    });

    // Pause auto-slide when page is not visible
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        stopAutoSlide();
      } else {
        startAutoSlide();
      }
    });
  </script>
</body>
</html>
