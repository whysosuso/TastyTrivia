<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TASTY TRIVIA â€“ Delicious Offline Trivia Events</title>
  <link rel="icon" href="https://emoji.gg/assets/emoji/7699-pepperoni-pizza.png" />
  <script id="luma-checkout" src="https://embed.lu.ma/checkout-button.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue:wght@400&family=Oswald:ital,wght@0,400;0,500;0,600;1,400&display=swap');

    /* â€¦(all your existing CSS from the current page remains unchanged)â€¦ */

    /* Instagram feed section */
    .insta-section{
      width: 100%;
      max-width: 520px;
      margin: 1.2rem auto 1.2rem;
      text-align: center;
      background: linear-gradient(135deg, rgba(219,65,24,0.05), rgba(30,42,90,0.05));
      border: 1px solid rgba(219,65,24,0.2);
      border-radius: 12px;
      padding: 1rem;
    }
    .insta-title{
      font-family: 'Oswald', sans-serif;
      font-size: 1.1rem;
      color: #db4118;
      font-weight: 600;
      letter-spacing: 0.5px;
      margin-bottom: 0.6rem;
    }
    .insta-embed{
      width: 100%;
      aspect-ratio: 1 / 1; /* keeps a nice square grid area */
      border-radius: 10px;
      overflow: hidden;
      background: #fff;
      border: 1px solid rgba(219,65,24,0.15);
      position: relative;
    }
    .insta-embed iframe{
      width: 100%;
      height: 100%;
      border: 0;
    }
    .insta-fallback{
      padding: 0.7rem;
    }
    .insta-grid{
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
    }
    .insta-grid a{
      display: block;
      border-radius: 6px;
      overflow: hidden;
      border: 1px solid rgba(219,65,24,0.15);
      box-shadow: 0 1px 4px rgba(0,0,0,0.06);
      background: #fff;
    }
    .insta-grid img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .insta-btn{
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      margin-top: .8rem;
      padding: .6rem 1rem;
      border-radius: 10px;
      font-family: 'Oswald', sans-serif;
      font-weight: 600;
      border: 1px solid rgba(219,65,24,0.2);
      background: linear-gradient(135deg, #1E2A5A, #2D3B6B);
      color: #fff;
      text-decoration: none;
      transition: .25s ease;
    }
    .insta-btn:hover{
      transform: translateY(-1px);
      background: linear-gradient(135deg, #6B46C1, #8B5CF6);
      box-shadow: 0 6px 16px rgba(107,70,193,0.25);
    }

    /* Keep your existing responsive rules; add small tweak for insta-grid */
    @media (max-width: 480px){
      .insta-grid{ grid-template-columns: repeat(3, 1fr); }
    }
  </style>
</head>
<body>
  <!-- Ticker, header, promo all unchanged -->

  <div class="ticker-container">
    <div class="ticker-content">
      <span class="ticker-text">ğŸ‰ 5+ Cities â€¢ 300+ Happy Participants â€¢ 100% Fun Guaranteed â€¢ Join the Community! ğŸ§ </span>
      <span class="ticker-text">ğŸ‰ 5+ Cities â€¢ 300+ Happy Participants â€¢ 100% Fun Guaranteed â€¢ Join the Community! ğŸ§ </span>
      <span class="ticker-text">ğŸ‰ 5+ Cities â€¢ 300+ Happy Participants â€¢ 100% Fun Guaranteed â€¢ Join the Community! ğŸ§ </span>
    </div>
  </div>

  <div class="header-box fade-in">
    <img src="https://i.ibb.co/1fwSfgcK/8-bit-purple-logo-2x-removebg-preview.png" alt="Tasty Trivia 8-bit logo" class="header-logo" onerror="handleLogoError(this)" />
    <div class="header-text">
      <h1>TASTY TRIVIA</h1>
      <p>Delicious Offline Trivia Events!</p>
    </div>
  </div>

  <div class="promo-section fade-in">
    <div class="promo-title">ğŸ”¥ Early Bird Special</div>
    <div class="promo-subtitle">ğŸ‰ Fun & Beginner-friendly</div>
    <div class="promo-subtitle">ğŸ§  For GenZs & Millennials</div>
  </div>

  <!-- UPDATED EVENTS -->
  <div class="register-buttons fade-in">
    <a href="https://www.district.in/events/all-things-asia-rice-spice-everything-with-tasty-trivia-oct10-2025-buy-tickets"
       class="register-button slide-in-left" target="_blank" rel="noopener">
      <div class="button-content">
        <div class="button-emoji">â˜ï¸</div>
        <div class="button-main">BENGALURU</div>
        <div class="button-price">â‚¹349</div>
        <div class="button-details">Oct 10, 9â€“11 PM</div>
        <div class="countdown-timer" id="countdown-bengaluru">Loading...</div>
      </div>
      <span class="share-icon" onclick="shareEvent('https://www.district.in/events/all-things-asia-rice-spice-everything-with-tasty-trivia-oct10-2025-buy-tickets', 'Bengaluru', 'Oct 10', '9â€“11 PM')">
        <img src="https://i.ibb.co/FkxqqVZw/Arrow.png" alt="Share" />
      </span>
    </a>

    <a href="https://lu.ma/event/evt-mHz4EjwBN6PDIFK"
       class="register-button luma-checkout--button slide-in-right"
       data-luma-action="checkout"
       data-luma-event-id="evt-mHz4EjwBN6PDIFK">
      <div class="button-content">
        <div class="button-emoji">â­</div>
        <div class="button-main">BHUBANESWAR</div>
        <div class="button-price">â‚¹199</div>
        <div class="button-details">Dec 27, 5â€“7 PM</div>
        <div class="countdown-timer" id="countdown-bhubaneswar">Loading...</div>
      </div>
      <span class="share-icon" onclick="shareEvent('https://lu.ma/event/evt-mHz4EjwBN6PDIFK', 'Bhubaneswar', 'Dec 27', '5â€“7 PM')">
        <img src="https://i.ibb.co/FkxqqVZw/Arrow.png" alt="Share" />
      </span>
    </a>
  </div>

  <div class="news-link fade-in">
    <a href="#" onclick="openNews(); return false;">ğŸ“° We Got Featured!</a>
  </div>

  <!-- NEW INSTAGRAM FEED SECTION (placed between Featured and Coming Soon) -->
  <div class="insta-section fade-in">
    <div class="insta-title">ğŸ“¸ Live from Instagram</div>

    <!-- If you have a widget (SnapWidget / LightWidget / Elfsight), paste its iframe below: -->
    <!-- Example:
      <iframe src="https://snapwidget.com/embed/XXXXXX" allowtransparency="true" scrolling="no"></iframe>
      or
      <iframe src="https://lightwidget.com/widgets/XXXXXXXX.html"></iframe>
    -->
    <div class="insta-embed" id="instaEmbed" aria-label="Instagram feed area">
      <!-- Fallback gallery (shows until you paste a real widget) -->
      <div class="insta-fallback" id="instaFallback">
        <div class="insta-grid">
          <a href="https://www.instagram.com/gettastytrivia/" target="_blank" rel="noopener">
            <img src="https://i.ibb.co/qFCKccSc/BBSR-Nov-15.png" alt="Tasty Trivia on Instagram - sample 1">
          </a>
          <a href="https://www.instagram.com/gettastytrivia/" target="_blank" rel="noopener">
            <img src="https://i.ibb.co/NgT1RXVH/BLR-KSamagata-OS.png" alt="Tasty Trivia on Instagram - sample 2">
          </a>
          <a href="https://www.instagram.com/gettastytrivia/" target="_blank" rel="noopener">
            <img src="https://i.ibb.co/qFCKccSc/BBSR-Nov-15.png" alt="Tasty Trivia on Instagram - sample 3">
          </a>
        </div>
        <a class="insta-btn" href="https://www.instagram.com/gettastytrivia/" target="_blank" rel="noopener">View more @gettastytrivia</a>
      </div>
    </div>
  </div>

  <div class="upcoming-cities fade-in">
    <div class="upcoming-title">ğŸš€ Coming Soon</div>
    <div class="cities-list">Mumbai â€¢ Delhi â€¢ Pune â€¢ Hyderabad</div>
    <div class="notify-text">Want to be notified? Join our community below! ğŸ‘‡</div>
  </div>

  <div class="whatsapp-section fade-in">
    <a href="https://bit.ly/Tasty_Trivia" class="whatsapp-button" target="_blank">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" onerror="this.style.display='none'" />
      Join 500+ Members - Get Special Prices!
    </a>
    <div class="whatsapp-benefits">
      <h3>ğŸœ Get The Tastiest Access</h3>
      <div class="benefits-grid">
        <div class="benefit-item">ğŸ“¢ Event Updates</div>
        <div class="benefit-item">ğŸ’° Special Prices</div>
        <div class="benefit-item">ğŸ† Exclusive Contests</div>
      </div>
    </div>
  </div>

  <div class="footer fade-in">
    <div class="footer-content">
      <div class="creators-section">
        <div class="creators-title">ğŸ‘¥ Meet the Curators</div>
        <div class="creators-names">
          <a href="https://in.linkedin.com/in/reach-saloni" target="_blank">Sal</a> & <a href="https://in.linkedin.com/in/whysosuso" target="_blank">Suso</a>
        </div>
        <div class="creators-subtitle">Making trivia fun, one event at a time â¤ï¸</div>
      </div>
      <div class="community-section">
        <div class="community-text">Powered by our lovely friends!</div>
      </div>
      <div class="contact-section">
        <div class="contact-title">ğŸ“§ Get in Touch</div>
        <div class="contact-email">
          <a href="mailto:hi.tastytrivia@gmail.com">hi.tastytrivia@gmail.com</a>
        </div>
        <div class="social-handles">
          <span class="social-handle">ğŸ“¸ IG: @gettastytrivia</span>
          <span class="social-separator">â€¢</span>
          <span class="social-handle">ğŸ¦ X: @gettastytrivia</span>
        </div>
      </div>
    </div>
  </div>

  <button class="back-to-top" id="backToTop" onclick="scrollToTop()" aria-label="Back to top">â†‘</button>

  <script>
    const backToTopButton = document.getElementById('backToTop');
    let countdownIntervals = {};

    // UPDATED dates
    const eventDates = {
      'countdown-bengaluru': new Date('2025-10-10T21:00:00+05:30'),   // 9 PM IST
      'countdown-bhubaneswar': new Date('2025-12-27T17:00:00+05:30')  // 5 PM IST
    };

    /* â€¦(all your existing JS for timers, animations, share, etc. remains unchanged)â€¦ */

    function updateCountdown(timerId, targetDate) {
      const now = new Date();
      const timeLeft = targetDate - now;
      const timerElement = document.getElementById(timerId);
      if (!timerElement) return;

      if (timeLeft <= 0) {
        timerElement.textContent = 'Event Started!';
        timerElement.className = 'countdown-timer expired';
        if (countdownIntervals[timerId]) {
          clearInterval(countdownIntervals[timerId]);
          delete countdownIntervals[timerId];
        }
        return;
      }
      const days = Math.floor(timeLeft / (1000*60*60*24));
      const hours = Math.floor((timeLeft % (1000*60*60*24)) / (1000*60*60));
      const minutes = Math.floor((timeLeft % (1000*60*60)) / (1000*60));
      const seconds = Math.floor((timeLeft % (1000*60)) / 1000);

      let countdownText = '';
      let timerClass = 'countdown-timer';
      if (days > 0) {
        countdownText = `${days}d ${hours}h`;
      } else if (hours > 0) {
        countdownText = `${hours}h ${minutes}m`;
        if (hours <= 24) timerClass += ' urgent';
      } else if (minutes > 0) {
        countdownText = `${minutes}m ${seconds}s`;
        timerClass += ' urgent';
      } else {
        countdownText = `${seconds}s`;
        timerClass += ' urgent';
      }
      timerElement.textContent = countdownText;
      timerElement.className = timerClass;
    }

    function startCountdowns() {
      Object.values(countdownIntervals).forEach(interval => clearInterval(interval));
      countdownIntervals = {};
      Object.entries(eventDates).forEach(([timerId, targetDate]) => {
        updateCountdown(timerId, targetDate);
        countdownIntervals[timerId] = setInterval(() => updateCountdown(timerId, targetDate), 1000);
      });
    }

    function scrollToTop(){ window.scrollTo({ top:0, behavior:'smooth' }); }

    function handleScroll(){
      const y = window.pageYOffset || document.documentElement.scrollTop;
      if (y > 300) backToTopButton.classList.add('visible');
      else backToTopButton.classList.remove('visible');
    }

    function setupAnimations(){
      const els = document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right');
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('visible'); });
      },{threshold:0.1, rootMargin:'50px'});
      els.forEach(el=>io.observe(el));
    }

    function setupLazyLoading(){
      const images = document.querySelectorAll('img[loading="lazy"]');
      if ('IntersectionObserver' in window){
        const imageObserver = new IntersectionObserver((entries)=>{
          entries.forEach(entry=>{
            if(entry.isIntersecting){
              const img = entry.target;
              if(img.dataset.src){ img.src = img.dataset.src; img.removeAttribute('data-src'); }
              img.classList.add('loaded');
              imageObserver.unobserve(img);
            }
          });
        });
        images.forEach(img=>imageObserver.observe(img));
      }
    }

    function handleImageError(img){
      img.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300"><rect width="400" height="300" fill="%23F5DEB3"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="16" fill="%23db4118">Event Poster</text></svg>';
      img.alt="Event poster (image unavailable)";
    }
    function handleLogoError(img){
      img.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" viewBox="0 0 70 70"><rect width="70" height="70" fill="%23db4118" rx="8"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" font-family="Arial" font-size="12" fill="white" font-weight="bold">TT</text></svg>';
      img.alt="Tasty Trivia logo (fallback)";
    }
    function addLoadingState(btn){
      btn.classList.add('loading');
      setTimeout(()=>btn.classList.remove('loading'), 3000);
    }
    function shareEvent(link, city, date, time){
      try{
        const message = `ğŸ§  Found this awesome trivia event in ${city} (${date} ${time})! \n\nPrizes + fun + meet cool people + beginner friendly = perfect time! ğŸ‰\n\n${link}`;
        const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
      }catch(e){
        console.error('Error sharing event:', e);
        if (navigator.clipboard){ navigator.clipboard.writeText(link); alert('Link copied to clipboard!'); }
      }
    }
    function openNews(){
      try{
        window.open("https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar",
          "newsPopup","width=600,height=700,resizable=yes,scrollbars=yes");
      }catch(e){
        console.error('Error opening news:', e);
        window.location.href="https://www.newindianexpress.com/amp/story/cities/bhubaneswar/2025/jun/22/rice-spice-and-quiz-marks-tasty-trivias-debut-in-bhubaneswar";
      }
    }

    document.addEventListener('DOMContentLoaded', function(){
      setupAnimations();
      setupLazyLoading();
      startCountdowns();
      window.addEventListener('scroll', handleScroll);

      document.querySelectorAll('.register-button').forEach(btn=>{
        btn.addEventListener('click', ()=>addLoadingState(btn));
      });

      /* â€”â€” INSTAGRAM WIDGET HOOK â€”â€”
         If you later paste a widget iframe, put it inside #instaEmbed and
         remove (or leave) the fallback; it will remain below the widget. */
    });

    document.addEventListener('visibilitychange', function(){
      if (document.hidden) { Object.values(countdownIntervals).forEach(clearInterval); }
      else { startCountdowns(); }
    });
    window.addEventListener('beforeunload', function(){
      Object.values(countdownIntervals).forEach(clearInterval);
    });
  </script>
</body>
</html>
